/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/PapyrusUtil/MiscUtil.ts":
/*!*************************************!*\
  !*** ./src/PapyrusUtil/MiscUtil.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScanCellObjects": () => (/* binding */ ScanCellObjects),
/* harmony export */   "ScanCellNPCs": () => (/* binding */ ScanCellNPCs),
/* harmony export */   "ScanCellNPCsByFaction": () => (/* binding */ ScanCellNPCsByFaction),
/* harmony export */   "ToggleFreeCamera": () => (/* binding */ ToggleFreeCamera),
/* harmony export */   "SetFreeCameraSpeed": () => (/* binding */ SetFreeCameraSpeed),
/* harmony export */   "SetFreeCameraState": () => (/* binding */ SetFreeCameraState),
/* harmony export */   "FilesInFolder": () => (/* binding */ FilesInFolder),
/* harmony export */   "FoldersInFolder": () => (/* binding */ FoldersInFolder),
/* harmony export */   "FileExists": () => (/* binding */ FileExists),
/* harmony export */   "ReadFromFile": () => (/* binding */ ReadFromFile),
/* harmony export */   "WriteToFile": () => (/* binding */ WriteToFile),
/* harmony export */   "PrintConsole": () => (/* binding */ PrintConsole),
/* harmony export */   "GetRaceEditorID": () => (/* binding */ GetRaceEditorID),
/* harmony export */   "GetActorRaceEditorID": () => (/* binding */ GetActorRaceEditorID),
/* harmony export */   "SetMenus": () => (/* binding */ SetMenus)
/* harmony export */ });
/* harmony import */ var skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! skyrimPlatform */ "skyrimPlatform");
/* harmony import */ var skyrimPlatform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__);
/*
Manual fixing notes:
  - All deprecated functions were manually removed.

==============================================
Typescript definitions for v3.9
==============================================

This file was automatically generated by Papyrus-2-Typescript.exe
https://github.com/CarlosLeyvaAyala/Papyrus-2-Typescript

The program has no way to know the intention of the humans that made
the scripts, so it's always advisable to manually check all generated
files to make sure everything is declared as it should.

Take note the program assumes this script exists in some subfolder
to the folder where `skyrimPlatform.ts` is found, otherwise you'll get
"Cannot find module..." type of errors.

If you want to have this script in some other place, just change the
relative path of each `import`.
*/

var sn = skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.MiscUtil;
/** Cell scanning functions */
// Scans the current cell of the given CenterOn for an object of the given form type ID within radius and returns an array for all that
// and (optionally) also has the given keyword if changed from default none. Setting radius higher than 0.0 will restrict the
// search distance from around CenterOn, 0.0 will search entire cell the object is in.
// NOTE: Keyword searches seem a little unpredictable so be sure to test if your usage of it works before using the results.
var ScanCellObjects = function (formType, CenterOn, radius, HasKeyword) {
    if (radius === void 0) { radius = 0.0; }
    if (HasKeyword === void 0) { HasKeyword = null; }
    return sn.ScanCellObjects(formType, CenterOn, radius, HasKeyword);
};
// Scans the current cell of the given CenterOn for an actor within the given radius and returns an array for all actors that are
// currently alive and (optionally) has the given keyword if changed from default none. Setting radius higher than 0.0 will restrict the
// search distance from around CenterOn, 0.0 will search entire cell the object is in.
// NOTE: Keyword searches seem a little unpredictable so be sure to test if your usage of it works before using the results.
var ScanCellNPCs = function (CenterOn, radius, HasKeyword, IgnoreDead) {
    if (radius === void 0) { radius = 0.0; }
    if (HasKeyword === void 0) { HasKeyword = null; }
    if (IgnoreDead === void 0) { IgnoreDead = true; }
    return sn.ScanCellNPCs(CenterOn, radius, HasKeyword, IgnoreDead);
};
// Same as ScanCellNPCs(), however it filters the return by a given faction and (optionally) their rank in that faction.
var ScanCellNPCsByFaction = function (FindFaction, CenterOn, radius, minRank, maxRank, IgnoreDead) {
    if (radius === void 0) { radius = 0.0; }
    if (minRank === void 0) { minRank = 0; }
    if (maxRank === void 0) { maxRank = 127; }
    if (IgnoreDead === void 0) { IgnoreDead = true; }
    return sn.ScanCellNPCsByFaction(FindFaction, CenterOn, radius, minRank, maxRank, IgnoreDead);
};
/** Camera functions - NOT CURRENT WORKING IN SKYRIM SPECIAL EDITION */
// Toggle freefly camera.
var ToggleFreeCamera = function (stopTime) {
    if (stopTime === void 0) { stopTime = false; }
    return sn.ToggleFreeCamera(stopTime);
};
// Set freefly cam speed.
var SetFreeCameraSpeed = function (speed) { return sn.SetFreeCameraSpeed(speed); };
// Set current freefly cam state & set the speed if enabling
var SetFreeCameraState = function (enable, speed) {
    if (speed === void 0) { speed = 10.0; }
    return sn.SetFreeCameraState(enable, speed);
};
/** File related functions */
// Get an array of files in a given parent directory that have the given extension.
// directory is relative to the root Skyrim folder (where skyrim.exe is) and is non-recursive.
// directory = "." to get all files in root Skyrim folder
// directory = "data/meshes" to get all files in the <root>/data/meshes folder
// extension = ".nif" to get all .nif mesh files.
// (default) extension="*" to get all files
var FilesInFolder = function (directory, extension) {
    if (extension === void 0) { extension = "*"; }
    return sn.FilesInFolder(directory, extension);
};
// Get an array of folders in a given parent directory
// Same rules and examples as above FilesInFolder apply to the directory rule here.
var FoldersInFolder = function (directory) { return sn.FoldersInFolder(directory); };
// Check if a given file exists relative to root Skyrim directory. Example: FileExists("data/meshes/example.nif")
var FileExists = function (fileName) { return sn.FileExists(fileName); };
// Read string from file. Do not read large files!
var ReadFromFile = function (fileName) { return sn.ReadFromFile(fileName); };
// Write string to file.
var WriteToFile = function (fileName, text, append, timestamp) {
    if (append === void 0) { append = true; }
    if (timestamp === void 0) { timestamp = false; }
    return sn.WriteToFile(fileName, text, append, timestamp);
};
/** Misc */
// Print text to console.
var PrintConsole = function (text) { return sn.PrintConsole(text); };
// Get race's editor ID.
var GetRaceEditorID = function (raceForm) { return sn.GetRaceEditorID(raceForm); };
// Get race's editor ID.
var GetActorRaceEditorID = function (actorRef) { return sn.GetActorRaceEditorID(actorRef); };
// Set HUD on / off - NOT CURRENT WORKING IN SKYRIM SPECIAL EDITION
var SetMenus = function (enabled) { return sn.SetMenus(enabled); };


/***/ }),

/***/ "skyrimPlatform":
/*!***********************************!*\
  !*** external ["skyrimPlatform"] ***!
  \***********************************/
/***/ ((module) => {

module.exports = skyrimPlatform;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! skyrimPlatform */ "skyrimPlatform");
/* harmony import */ var skyrimPlatform__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PapyrusUtil_MiscUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PapyrusUtil/MiscUtil */ "./src/PapyrusUtil/MiscUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var getBaseQuality = function (level) {
    return Math.floor(level / 5);
};
var getNumEnchant = function (quality) {
    var list = [
        [90, 10, 0],
        [90, 10, 0],
        [90, 10, 0],
        [80, 20, 0],
        [70, 29, 1],
        [60, 35, 5],
        [55, 40, 5],
        [50, 40, 10], //~15
    ];
    var n = Math.min(Math.max(Math.floor(quality / 2), 0), list.length - 1);
    var res = Math.random() * 100;
    return list[n].findIndex(function (e) {
        res -= e;
        return res < 0;
    }) + 1;
};
var randomizeQuality = function (center) {
    var list = [
        { wgt: 10, mod: -2 },
        { wgt: 20, mod: -1 },
        { wgt: 40, mod: 0 },
        { wgt: 15, mod: 1 },
        { wgt: 10, mod: 2 },
        { wgt: 4, mod: 3 },
        { wgt: 1, mod: 4 },
    ];
    var wgt = 0;
    list.forEach(function (e) { return wgt += e.wgt; });
    wgt = Math.random() * wgt;
    var res = list.find(function (e) {
        wgt -= e.wgt;
        return wgt < 0;
    }) || list[list.length - 1];
    return Math.max(res.mod + center, 0);
};
var getMultiplier = function (quality) {
    // Grand	x1
    // Greater	x2/3
    // Common	x1/3
    // Lesser	x1/6
    // Petty	x1/12
    // Maximum possible natural (without potions) multiplier with 100 Enchanting, 5 levels in Enchanter, appropriate +25% perk and Grand soul is 3.125x.
    // With potions (without exploiting fortify restoration effect) the maximum is 4.21875x.
    var list = [
        0.5,
        0.75,
        1.0,
        1.25,
        1.5,
        1.75,
        2.0,
        2.25,
        2.5,
        2.75,
        3.0,
        3.5,
        4.0,
        4.22,
        4.5,
        5.0, // 15
    ];
    quality = Math.max(quality, 0);
    quality = Math.min(quality, list.length - 1);
    return list[quality];
};
var enchants = [0x000424e2];
var mainloop = function () { return __awaiter(void 0, void 0, void 0, function () {
    var player, actors;
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0:
                player = skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.Game.getPlayer();
                actors = _PapyrusUtil_MiscUtil__WEBPACK_IMPORTED_MODULE_1__.ScanCellNPCs(player);
                actors.forEach(function (a) {
                    var level = a.getLevel();
                    var items = [];
                    var tmp = a.getEquippedWeapon(false);
                    if (tmp != null)
                        items.push(skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.ObjectReference.from(tmp));
                    tmp = a.getEquippedWeapon(true);
                    if (tmp)
                        items.push(skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.ObjectReference.from(tmp));
                    for (var mask = 1; mask <= 0x8000000; mask << 1) {
                        tmp = a.getWornForm(mask);
                        if (tmp)
                            items.push(skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.ObjectReference.from(tmp));
                    }
                    items.forEach(function (item) {
                        (0,skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.printConsole)(item.getName());
                        if (!item.getEnchantment()) {
                            var enc = skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.Enchantment.from(skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.Game.getForm(enchants[0]));
                            if (enc) {
                                var magic = enc.getNthEffectMagicEffect(0);
                                var base_mag = enc.getNthEffectMagnitude(0);
                                var base_area = enc.getNthEffectArea(0);
                                var base_dur = enc.getNthEffectDuration(0);
                                var multiplier = getMultiplier(randomizeQuality(getBaseQuality(level)));
                                if (magic) {
                                    item.getItemHealthPercent();
                                    if (item.getType() == 26 /* Armor */) {
                                        item.createEnchantment(3000, [magic], [base_mag * multiplier], [base_area], [base_dur]);
                                    }
                                }
                            }
                        }
                    });
                });
                return [4 /*yield*/, skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.Utility.wait(1)];
            case 1:
                _a.sent();
                mainloop();
                return [2 /*return*/];
        }
    });
}); };
(0,skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.once)('tick', function () {
    (0,skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.printConsole)('Hello! You can view this in the Skyrim ~ console on the Main Menu when the game runs');
});
(0,skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.once)('update', function () {
    skyrimPlatform__WEBPACK_IMPORTED_MODULE_0__.Debug.messageBox('Hello! This will appear when a new game is started or an existing game is loaded');
    mainloop();
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhhbXBsZS1za3lyaW0tcGxhdGZvcm0tcGx1Z2luLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3FDO0FBQ3JDLFNBQVMsb0RBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCO0FBQzdCLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZCQUE2QjtBQUM3QixpQ0FBaUM7QUFDakMsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCO0FBQzdCLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUIsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ08sNENBQTRDO0FBQ25EO0FBQ087QUFDUCw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2Q0FBNkM7QUFDcEQ7QUFDTyx1Q0FBdUM7QUFDOUM7QUFDTyx5Q0FBeUM7QUFDaEQ7QUFDTztBQUNQLDZCQUE2QjtBQUM3QixnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQ0FBcUM7QUFDNUM7QUFDTyw0Q0FBNEM7QUFDbkQ7QUFDTyxpREFBaUQ7QUFDeEQ7QUFDTyxvQ0FBb0M7Ozs7Ozs7Ozs7O0FDakczQzs7Ozs7O1VDQUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLGlDQUFpQyxXQUFXO1dBQzVDO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQTs7Ozs7V0NQQTs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7Ozs7Ozs7Ozs7O0FDTkEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDd0c7QUFDckQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQkFBa0I7QUFDNUIsVUFBVSxrQkFBa0I7QUFDNUIsVUFBVSxpQkFBaUI7QUFDM0IsVUFBVSxpQkFBaUI7QUFDM0IsVUFBVSxpQkFBaUI7QUFDM0IsVUFBVSxnQkFBZ0I7QUFDMUIsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTtBQUNBLGdDQUFnQyxzQkFBc0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFjO0FBQ3ZDLHlCQUF5QiwrREFBcUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnRUFBb0I7QUFDdkQ7QUFDQTtBQUNBLG1DQUFtQyxnRUFBb0I7QUFDdkQsdUNBQXVDLG1CQUFtQjtBQUMxRDtBQUNBO0FBQ0EsdUNBQXVDLGdFQUFvQjtBQUMzRDtBQUNBO0FBQ0Esd0JBQXdCLDREQUFZO0FBQ3BDO0FBQ0Esc0NBQXNDLDREQUFnQixDQUFDLHdEQUFZO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLHFDQUFxQyx3REFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRCxvREFBSTtBQUNKLElBQUksNERBQVk7QUFDaEIsQ0FBQztBQUNELG9EQUFJO0FBQ0osSUFBSSw0REFBZ0I7QUFDcEI7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS1za3lyaW0tcGxhdGZvcm0tcGx1Z2luLy4vc3JjL1BhcHlydXNVdGlsL01pc2NVdGlsLnRzIiwid2VicGFjazovL2V4YW1wbGUtc2t5cmltLXBsYXRmb3JtLXBsdWdpbi9leHRlcm5hbCB2YXIgW1wic2t5cmltUGxhdGZvcm1cIl0iLCJ3ZWJwYWNrOi8vZXhhbXBsZS1za3lyaW0tcGxhdGZvcm0tcGx1Z2luL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2V4YW1wbGUtc2t5cmltLXBsYXRmb3JtLXBsdWdpbi93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9leGFtcGxlLXNreXJpbS1wbGF0Zm9ybS1wbHVnaW4vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2V4YW1wbGUtc2t5cmltLXBsYXRmb3JtLXBsdWdpbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2V4YW1wbGUtc2t5cmltLXBsYXRmb3JtLXBsdWdpbi93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2V4YW1wbGUtc2t5cmltLXBsYXRmb3JtLXBsdWdpbi8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG5NYW51YWwgZml4aW5nIG5vdGVzOlxyXG4gIC0gQWxsIGRlcHJlY2F0ZWQgZnVuY3Rpb25zIHdlcmUgbWFudWFsbHkgcmVtb3ZlZC5cclxuXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuVHlwZXNjcmlwdCBkZWZpbml0aW9ucyBmb3IgdjMuOVxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5UaGlzIGZpbGUgd2FzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IFBhcHlydXMtMi1UeXBlc2NyaXB0LmV4ZVxyXG5odHRwczovL2dpdGh1Yi5jb20vQ2FybG9zTGV5dmFBeWFsYS9QYXB5cnVzLTItVHlwZXNjcmlwdFxyXG5cclxuVGhlIHByb2dyYW0gaGFzIG5vIHdheSB0byBrbm93IHRoZSBpbnRlbnRpb24gb2YgdGhlIGh1bWFucyB0aGF0IG1hZGVcclxudGhlIHNjcmlwdHMsIHNvIGl0J3MgYWx3YXlzIGFkdmlzYWJsZSB0byBtYW51YWxseSBjaGVjayBhbGwgZ2VuZXJhdGVkXHJcbmZpbGVzIHRvIG1ha2Ugc3VyZSBldmVyeXRoaW5nIGlzIGRlY2xhcmVkIGFzIGl0IHNob3VsZC5cclxuXHJcblRha2Ugbm90ZSB0aGUgcHJvZ3JhbSBhc3N1bWVzIHRoaXMgc2NyaXB0IGV4aXN0cyBpbiBzb21lIHN1YmZvbGRlclxyXG50byB0aGUgZm9sZGVyIHdoZXJlIGBza3lyaW1QbGF0Zm9ybS50c2AgaXMgZm91bmQsIG90aGVyd2lzZSB5b3UnbGwgZ2V0XHJcblwiQ2Fubm90IGZpbmQgbW9kdWxlLi4uXCIgdHlwZSBvZiBlcnJvcnMuXHJcblxyXG5JZiB5b3Ugd2FudCB0byBoYXZlIHRoaXMgc2NyaXB0IGluIHNvbWUgb3RoZXIgcGxhY2UsIGp1c3QgY2hhbmdlIHRoZVxyXG5yZWxhdGl2ZSBwYXRoIG9mIGVhY2ggYGltcG9ydGAuXHJcbiovXHJcbmltcG9ydCAqIGFzIHNwIGZyb20gJ3NreXJpbVBsYXRmb3JtJztcclxudmFyIHNuID0gc3AuTWlzY1V0aWw7XHJcbi8qKiBDZWxsIHNjYW5uaW5nIGZ1bmN0aW9ucyAqL1xyXG4vLyBTY2FucyB0aGUgY3VycmVudCBjZWxsIG9mIHRoZSBnaXZlbiBDZW50ZXJPbiBmb3IgYW4gb2JqZWN0IG9mIHRoZSBnaXZlbiBmb3JtIHR5cGUgSUQgd2l0aGluIHJhZGl1cyBhbmQgcmV0dXJucyBhbiBhcnJheSBmb3IgYWxsIHRoYXRcclxuLy8gYW5kIChvcHRpb25hbGx5KSBhbHNvIGhhcyB0aGUgZ2l2ZW4ga2V5d29yZCBpZiBjaGFuZ2VkIGZyb20gZGVmYXVsdCBub25lLiBTZXR0aW5nIHJhZGl1cyBoaWdoZXIgdGhhbiAwLjAgd2lsbCByZXN0cmljdCB0aGVcclxuLy8gc2VhcmNoIGRpc3RhbmNlIGZyb20gYXJvdW5kIENlbnRlck9uLCAwLjAgd2lsbCBzZWFyY2ggZW50aXJlIGNlbGwgdGhlIG9iamVjdCBpcyBpbi5cclxuLy8gTk9URTogS2V5d29yZCBzZWFyY2hlcyBzZWVtIGEgbGl0dGxlIHVucHJlZGljdGFibGUgc28gYmUgc3VyZSB0byB0ZXN0IGlmIHlvdXIgdXNhZ2Ugb2YgaXQgd29ya3MgYmVmb3JlIHVzaW5nIHRoZSByZXN1bHRzLlxyXG5leHBvcnQgdmFyIFNjYW5DZWxsT2JqZWN0cyA9IGZ1bmN0aW9uIChmb3JtVHlwZSwgQ2VudGVyT24sIHJhZGl1cywgSGFzS2V5d29yZCkge1xyXG4gICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDAuMDsgfVxyXG4gICAgaWYgKEhhc0tleXdvcmQgPT09IHZvaWQgMCkgeyBIYXNLZXl3b3JkID0gbnVsbDsgfVxyXG4gICAgcmV0dXJuIHNuLlNjYW5DZWxsT2JqZWN0cyhmb3JtVHlwZSwgQ2VudGVyT24sIHJhZGl1cywgSGFzS2V5d29yZCk7XHJcbn07XHJcbi8vIFNjYW5zIHRoZSBjdXJyZW50IGNlbGwgb2YgdGhlIGdpdmVuIENlbnRlck9uIGZvciBhbiBhY3RvciB3aXRoaW4gdGhlIGdpdmVuIHJhZGl1cyBhbmQgcmV0dXJucyBhbiBhcnJheSBmb3IgYWxsIGFjdG9ycyB0aGF0IGFyZVxyXG4vLyBjdXJyZW50bHkgYWxpdmUgYW5kIChvcHRpb25hbGx5KSBoYXMgdGhlIGdpdmVuIGtleXdvcmQgaWYgY2hhbmdlZCBmcm9tIGRlZmF1bHQgbm9uZS4gU2V0dGluZyByYWRpdXMgaGlnaGVyIHRoYW4gMC4wIHdpbGwgcmVzdHJpY3QgdGhlXHJcbi8vIHNlYXJjaCBkaXN0YW5jZSBmcm9tIGFyb3VuZCBDZW50ZXJPbiwgMC4wIHdpbGwgc2VhcmNoIGVudGlyZSBjZWxsIHRoZSBvYmplY3QgaXMgaW4uXHJcbi8vIE5PVEU6IEtleXdvcmQgc2VhcmNoZXMgc2VlbSBhIGxpdHRsZSB1bnByZWRpY3RhYmxlIHNvIGJlIHN1cmUgdG8gdGVzdCBpZiB5b3VyIHVzYWdlIG9mIGl0IHdvcmtzIGJlZm9yZSB1c2luZyB0aGUgcmVzdWx0cy5cclxuZXhwb3J0IHZhciBTY2FuQ2VsbE5QQ3MgPSBmdW5jdGlvbiAoQ2VudGVyT24sIHJhZGl1cywgSGFzS2V5d29yZCwgSWdub3JlRGVhZCkge1xyXG4gICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDAuMDsgfVxyXG4gICAgaWYgKEhhc0tleXdvcmQgPT09IHZvaWQgMCkgeyBIYXNLZXl3b3JkID0gbnVsbDsgfVxyXG4gICAgaWYgKElnbm9yZURlYWQgPT09IHZvaWQgMCkgeyBJZ25vcmVEZWFkID0gdHJ1ZTsgfVxyXG4gICAgcmV0dXJuIHNuLlNjYW5DZWxsTlBDcyhDZW50ZXJPbiwgcmFkaXVzLCBIYXNLZXl3b3JkLCBJZ25vcmVEZWFkKTtcclxufTtcclxuLy8gU2FtZSBhcyBTY2FuQ2VsbE5QQ3MoKSwgaG93ZXZlciBpdCBmaWx0ZXJzIHRoZSByZXR1cm4gYnkgYSBnaXZlbiBmYWN0aW9uIGFuZCAob3B0aW9uYWxseSkgdGhlaXIgcmFuayBpbiB0aGF0IGZhY3Rpb24uXHJcbmV4cG9ydCB2YXIgU2NhbkNlbGxOUENzQnlGYWN0aW9uID0gZnVuY3Rpb24gKEZpbmRGYWN0aW9uLCBDZW50ZXJPbiwgcmFkaXVzLCBtaW5SYW5rLCBtYXhSYW5rLCBJZ25vcmVEZWFkKSB7XHJcbiAgICBpZiAocmFkaXVzID09PSB2b2lkIDApIHsgcmFkaXVzID0gMC4wOyB9XHJcbiAgICBpZiAobWluUmFuayA9PT0gdm9pZCAwKSB7IG1pblJhbmsgPSAwOyB9XHJcbiAgICBpZiAobWF4UmFuayA9PT0gdm9pZCAwKSB7IG1heFJhbmsgPSAxMjc7IH1cclxuICAgIGlmIChJZ25vcmVEZWFkID09PSB2b2lkIDApIHsgSWdub3JlRGVhZCA9IHRydWU7IH1cclxuICAgIHJldHVybiBzbi5TY2FuQ2VsbE5QQ3NCeUZhY3Rpb24oRmluZEZhY3Rpb24sIENlbnRlck9uLCByYWRpdXMsIG1pblJhbmssIG1heFJhbmssIElnbm9yZURlYWQpO1xyXG59O1xyXG4vKiogQ2FtZXJhIGZ1bmN0aW9ucyAtIE5PVCBDVVJSRU5UIFdPUktJTkcgSU4gU0tZUklNIFNQRUNJQUwgRURJVElPTiAqL1xyXG4vLyBUb2dnbGUgZnJlZWZseSBjYW1lcmEuXHJcbmV4cG9ydCB2YXIgVG9nZ2xlRnJlZUNhbWVyYSA9IGZ1bmN0aW9uIChzdG9wVGltZSkge1xyXG4gICAgaWYgKHN0b3BUaW1lID09PSB2b2lkIDApIHsgc3RvcFRpbWUgPSBmYWxzZTsgfVxyXG4gICAgcmV0dXJuIHNuLlRvZ2dsZUZyZWVDYW1lcmEoc3RvcFRpbWUpO1xyXG59O1xyXG4vLyBTZXQgZnJlZWZseSBjYW0gc3BlZWQuXHJcbmV4cG9ydCB2YXIgU2V0RnJlZUNhbWVyYVNwZWVkID0gZnVuY3Rpb24gKHNwZWVkKSB7IHJldHVybiBzbi5TZXRGcmVlQ2FtZXJhU3BlZWQoc3BlZWQpOyB9O1xyXG4vLyBTZXQgY3VycmVudCBmcmVlZmx5IGNhbSBzdGF0ZSAmIHNldCB0aGUgc3BlZWQgaWYgZW5hYmxpbmdcclxuZXhwb3J0IHZhciBTZXRGcmVlQ2FtZXJhU3RhdGUgPSBmdW5jdGlvbiAoZW5hYmxlLCBzcGVlZCkge1xyXG4gICAgaWYgKHNwZWVkID09PSB2b2lkIDApIHsgc3BlZWQgPSAxMC4wOyB9XHJcbiAgICByZXR1cm4gc24uU2V0RnJlZUNhbWVyYVN0YXRlKGVuYWJsZSwgc3BlZWQpO1xyXG59O1xyXG4vKiogRmlsZSByZWxhdGVkIGZ1bmN0aW9ucyAqL1xyXG4vLyBHZXQgYW4gYXJyYXkgb2YgZmlsZXMgaW4gYSBnaXZlbiBwYXJlbnQgZGlyZWN0b3J5IHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gZXh0ZW5zaW9uLlxyXG4vLyBkaXJlY3RvcnkgaXMgcmVsYXRpdmUgdG8gdGhlIHJvb3QgU2t5cmltIGZvbGRlciAod2hlcmUgc2t5cmltLmV4ZSBpcykgYW5kIGlzIG5vbi1yZWN1cnNpdmUuXHJcbi8vIGRpcmVjdG9yeSA9IFwiLlwiIHRvIGdldCBhbGwgZmlsZXMgaW4gcm9vdCBTa3lyaW0gZm9sZGVyXHJcbi8vIGRpcmVjdG9yeSA9IFwiZGF0YS9tZXNoZXNcIiB0byBnZXQgYWxsIGZpbGVzIGluIHRoZSA8cm9vdD4vZGF0YS9tZXNoZXMgZm9sZGVyXHJcbi8vIGV4dGVuc2lvbiA9IFwiLm5pZlwiIHRvIGdldCBhbGwgLm5pZiBtZXNoIGZpbGVzLlxyXG4vLyAoZGVmYXVsdCkgZXh0ZW5zaW9uPVwiKlwiIHRvIGdldCBhbGwgZmlsZXNcclxuZXhwb3J0IHZhciBGaWxlc0luRm9sZGVyID0gZnVuY3Rpb24gKGRpcmVjdG9yeSwgZXh0ZW5zaW9uKSB7XHJcbiAgICBpZiAoZXh0ZW5zaW9uID09PSB2b2lkIDApIHsgZXh0ZW5zaW9uID0gXCIqXCI7IH1cclxuICAgIHJldHVybiBzbi5GaWxlc0luRm9sZGVyKGRpcmVjdG9yeSwgZXh0ZW5zaW9uKTtcclxufTtcclxuLy8gR2V0IGFuIGFycmF5IG9mIGZvbGRlcnMgaW4gYSBnaXZlbiBwYXJlbnQgZGlyZWN0b3J5XHJcbi8vIFNhbWUgcnVsZXMgYW5kIGV4YW1wbGVzIGFzIGFib3ZlIEZpbGVzSW5Gb2xkZXIgYXBwbHkgdG8gdGhlIGRpcmVjdG9yeSBydWxlIGhlcmUuXHJcbmV4cG9ydCB2YXIgRm9sZGVyc0luRm9sZGVyID0gZnVuY3Rpb24gKGRpcmVjdG9yeSkgeyByZXR1cm4gc24uRm9sZGVyc0luRm9sZGVyKGRpcmVjdG9yeSk7IH07XHJcbi8vIENoZWNrIGlmIGEgZ2l2ZW4gZmlsZSBleGlzdHMgcmVsYXRpdmUgdG8gcm9vdCBTa3lyaW0gZGlyZWN0b3J5LiBFeGFtcGxlOiBGaWxlRXhpc3RzKFwiZGF0YS9tZXNoZXMvZXhhbXBsZS5uaWZcIilcclxuZXhwb3J0IHZhciBGaWxlRXhpc3RzID0gZnVuY3Rpb24gKGZpbGVOYW1lKSB7IHJldHVybiBzbi5GaWxlRXhpc3RzKGZpbGVOYW1lKTsgfTtcclxuLy8gUmVhZCBzdHJpbmcgZnJvbSBmaWxlLiBEbyBub3QgcmVhZCBsYXJnZSBmaWxlcyFcclxuZXhwb3J0IHZhciBSZWFkRnJvbUZpbGUgPSBmdW5jdGlvbiAoZmlsZU5hbWUpIHsgcmV0dXJuIHNuLlJlYWRGcm9tRmlsZShmaWxlTmFtZSk7IH07XHJcbi8vIFdyaXRlIHN0cmluZyB0byBmaWxlLlxyXG5leHBvcnQgdmFyIFdyaXRlVG9GaWxlID0gZnVuY3Rpb24gKGZpbGVOYW1lLCB0ZXh0LCBhcHBlbmQsIHRpbWVzdGFtcCkge1xyXG4gICAgaWYgKGFwcGVuZCA9PT0gdm9pZCAwKSB7IGFwcGVuZCA9IHRydWU7IH1cclxuICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBmYWxzZTsgfVxyXG4gICAgcmV0dXJuIHNuLldyaXRlVG9GaWxlKGZpbGVOYW1lLCB0ZXh0LCBhcHBlbmQsIHRpbWVzdGFtcCk7XHJcbn07XHJcbi8qKiBNaXNjICovXHJcbi8vIFByaW50IHRleHQgdG8gY29uc29sZS5cclxuZXhwb3J0IHZhciBQcmludENvbnNvbGUgPSBmdW5jdGlvbiAodGV4dCkgeyByZXR1cm4gc24uUHJpbnRDb25zb2xlKHRleHQpOyB9O1xyXG4vLyBHZXQgcmFjZSdzIGVkaXRvciBJRC5cclxuZXhwb3J0IHZhciBHZXRSYWNlRWRpdG9ySUQgPSBmdW5jdGlvbiAocmFjZUZvcm0pIHsgcmV0dXJuIHNuLkdldFJhY2VFZGl0b3JJRChyYWNlRm9ybSk7IH07XHJcbi8vIEdldCByYWNlJ3MgZWRpdG9yIElELlxyXG5leHBvcnQgdmFyIEdldEFjdG9yUmFjZUVkaXRvcklEID0gZnVuY3Rpb24gKGFjdG9yUmVmKSB7IHJldHVybiBzbi5HZXRBY3RvclJhY2VFZGl0b3JJRChhY3RvclJlZik7IH07XHJcbi8vIFNldCBIVUQgb24gLyBvZmYgLSBOT1QgQ1VSUkVOVCBXT1JLSU5HIElOIFNLWVJJTSBTUEVDSUFMIEVESVRJT05cclxuZXhwb3J0IHZhciBTZXRNZW51cyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7IHJldHVybiBzbi5TZXRNZW51cyhlbmFibGVkKTsgfTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBza3lyaW1QbGF0Zm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn07XHJcbmltcG9ydCB7IEdhbWUsIEVuY2hhbnRtZW50LCBVdGlsaXR5LCBEZWJ1Zywgb25jZSwgcHJpbnRDb25zb2xlLCBPYmplY3RSZWZlcmVuY2UgfSBmcm9tICdza3lyaW1QbGF0Zm9ybSc7XHJcbmltcG9ydCAqIGFzIE1pc2NVdGlsIGZyb20gXCIuL1BhcHlydXNVdGlsL01pc2NVdGlsXCI7XHJcbnZhciBnZXRCYXNlUXVhbGl0eSA9IGZ1bmN0aW9uIChsZXZlbCkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IobGV2ZWwgLyA1KTtcclxufTtcclxudmFyIGdldE51bUVuY2hhbnQgPSBmdW5jdGlvbiAocXVhbGl0eSkge1xyXG4gICAgdmFyIGxpc3QgPSBbXHJcbiAgICAgICAgWzkwLCAxMCwgMF0sXHJcbiAgICAgICAgWzkwLCAxMCwgMF0sXHJcbiAgICAgICAgWzkwLCAxMCwgMF0sXHJcbiAgICAgICAgWzgwLCAyMCwgMF0sXHJcbiAgICAgICAgWzcwLCAyOSwgMV0sXHJcbiAgICAgICAgWzYwLCAzNSwgNV0sXHJcbiAgICAgICAgWzU1LCA0MCwgNV0sXHJcbiAgICAgICAgWzUwLCA0MCwgMTBdLCAvL34xNVxyXG4gICAgXTtcclxuICAgIHZhciBuID0gTWF0aC5taW4oTWF0aC5tYXgoTWF0aC5mbG9vcihxdWFsaXR5IC8gMiksIDApLCBsaXN0Lmxlbmd0aCAtIDEpO1xyXG4gICAgdmFyIHJlcyA9IE1hdGgucmFuZG9tKCkgKiAxMDA7XHJcbiAgICByZXR1cm4gbGlzdFtuXS5maW5kSW5kZXgoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICByZXMgLT0gZTtcclxuICAgICAgICByZXR1cm4gcmVzIDwgMDtcclxuICAgIH0pICsgMTtcclxufTtcclxudmFyIHJhbmRvbWl6ZVF1YWxpdHkgPSBmdW5jdGlvbiAoY2VudGVyKSB7XHJcbiAgICB2YXIgbGlzdCA9IFtcclxuICAgICAgICB7IHdndDogMTAsIG1vZDogLTIgfSxcclxuICAgICAgICB7IHdndDogMjAsIG1vZDogLTEgfSxcclxuICAgICAgICB7IHdndDogNDAsIG1vZDogMCB9LFxyXG4gICAgICAgIHsgd2d0OiAxNSwgbW9kOiAxIH0sXHJcbiAgICAgICAgeyB3Z3Q6IDEwLCBtb2Q6IDIgfSxcclxuICAgICAgICB7IHdndDogNCwgbW9kOiAzIH0sXHJcbiAgICAgICAgeyB3Z3Q6IDEsIG1vZDogNCB9LFxyXG4gICAgXTtcclxuICAgIHZhciB3Z3QgPSAwO1xyXG4gICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiB3Z3QgKz0gZS53Z3Q7IH0pO1xyXG4gICAgd2d0ID0gTWF0aC5yYW5kb20oKSAqIHdndDtcclxuICAgIHZhciByZXMgPSBsaXN0LmZpbmQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB3Z3QgLT0gZS53Z3Q7XHJcbiAgICAgICAgcmV0dXJuIHdndCA8IDA7XHJcbiAgICB9KSB8fCBsaXN0W2xpc3QubGVuZ3RoIC0gMV07XHJcbiAgICByZXR1cm4gTWF0aC5tYXgocmVzLm1vZCArIGNlbnRlciwgMCk7XHJcbn07XHJcbnZhciBnZXRNdWx0aXBsaWVyID0gZnVuY3Rpb24gKHF1YWxpdHkpIHtcclxuICAgIC8vIEdyYW5kXHR4MVxyXG4gICAgLy8gR3JlYXRlclx0eDIvM1xyXG4gICAgLy8gQ29tbW9uXHR4MS8zXHJcbiAgICAvLyBMZXNzZXJcdHgxLzZcclxuICAgIC8vIFBldHR5XHR4MS8xMlxyXG4gICAgLy8gTWF4aW11bSBwb3NzaWJsZSBuYXR1cmFsICh3aXRob3V0IHBvdGlvbnMpIG11bHRpcGxpZXIgd2l0aCAxMDAgRW5jaGFudGluZywgNSBsZXZlbHMgaW4gRW5jaGFudGVyLCBhcHByb3ByaWF0ZSArMjUlIHBlcmsgYW5kIEdyYW5kIHNvdWwgaXMgMy4xMjV4LlxyXG4gICAgLy8gV2l0aCBwb3Rpb25zICh3aXRob3V0IGV4cGxvaXRpbmcgZm9ydGlmeSByZXN0b3JhdGlvbiBlZmZlY3QpIHRoZSBtYXhpbXVtIGlzIDQuMjE4NzV4LlxyXG4gICAgdmFyIGxpc3QgPSBbXHJcbiAgICAgICAgMC41LFxyXG4gICAgICAgIDAuNzUsXHJcbiAgICAgICAgMS4wLFxyXG4gICAgICAgIDEuMjUsXHJcbiAgICAgICAgMS41LFxyXG4gICAgICAgIDEuNzUsXHJcbiAgICAgICAgMi4wLFxyXG4gICAgICAgIDIuMjUsXHJcbiAgICAgICAgMi41LFxyXG4gICAgICAgIDIuNzUsXHJcbiAgICAgICAgMy4wLFxyXG4gICAgICAgIDMuNSxcclxuICAgICAgICA0LjAsXHJcbiAgICAgICAgNC4yMixcclxuICAgICAgICA0LjUsXHJcbiAgICAgICAgNS4wLCAvLyAxNVxyXG4gICAgXTtcclxuICAgIHF1YWxpdHkgPSBNYXRoLm1heChxdWFsaXR5LCAwKTtcclxuICAgIHF1YWxpdHkgPSBNYXRoLm1pbihxdWFsaXR5LCBsaXN0Lmxlbmd0aCAtIDEpO1xyXG4gICAgcmV0dXJuIGxpc3RbcXVhbGl0eV07XHJcbn07XHJcbnZhciBlbmNoYW50cyA9IFsweDAwMDQyNGUyXTtcclxudmFyIG1haW5sb29wID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwbGF5ZXIsIGFjdG9ycztcclxuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHBsYXllciA9IEdhbWUuZ2V0UGxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICBhY3RvcnMgPSBNaXNjVXRpbC5TY2FuQ2VsbE5QQ3MocGxheWVyKTtcclxuICAgICAgICAgICAgICAgIGFjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxldmVsID0gYS5nZXRMZXZlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBhLmdldEVxdWlwcGVkV2VhcG9uKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG1wICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goT2JqZWN0UmVmZXJlbmNlLmZyb20odG1wKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gYS5nZXRFcXVpcHBlZFdlYXBvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG1wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKE9iamVjdFJlZmVyZW5jZS5mcm9tKHRtcCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1hc2sgPSAxOyBtYXNrIDw9IDB4ODAwMDAwMDsgbWFzayA8PCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IGEuZ2V0V29ybkZvcm0obWFzayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKE9iamVjdFJlZmVyZW5jZS5mcm9tKHRtcCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50Q29uc29sZShpdGVtLmdldE5hbWUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXRlbS5nZXRFbmNoYW50bWVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jID0gRW5jaGFudG1lbnQuZnJvbShHYW1lLmdldEZvcm0oZW5jaGFudHNbMF0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFnaWMgPSBlbmMuZ2V0TnRoRWZmZWN0TWFnaWNFZmZlY3QoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VfbWFnID0gZW5jLmdldE50aEVmZmVjdE1hZ25pdHVkZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZV9hcmVhID0gZW5jLmdldE50aEVmZmVjdEFyZWEoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VfZHVyID0gZW5jLmdldE50aEVmZmVjdER1cmF0aW9uKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtdWx0aXBsaWVyID0gZ2V0TXVsdGlwbGllcihyYW5kb21pemVRdWFsaXR5KGdldEJhc2VRdWFsaXR5KGxldmVsKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYWdpYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldEl0ZW1IZWFsdGhQZXJjZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmdldFR5cGUoKSA9PSAyNiAvKiBBcm1vciAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jcmVhdGVFbmNoYW50bWVudCgzMDAwLCBbbWFnaWNdLCBbYmFzZV9tYWcgKiBtdWx0aXBsaWVyXSwgW2Jhc2VfYXJlYV0sIFtiYXNlX2R1cl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFV0aWxpdHkud2FpdCgxKV07XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgIG1haW5sb29wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pOyB9O1xyXG5vbmNlKCd0aWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgcHJpbnRDb25zb2xlKCdIZWxsbyEgWW91IGNhbiB2aWV3IHRoaXMgaW4gdGhlIFNreXJpbSB+IGNvbnNvbGUgb24gdGhlIE1haW4gTWVudSB3aGVuIHRoZSBnYW1lIHJ1bnMnKTtcclxufSk7XHJcbm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIERlYnVnLm1lc3NhZ2VCb3goJ0hlbGxvISBUaGlzIHdpbGwgYXBwZWFyIHdoZW4gYSBuZXcgZ2FtZSBpcyBzdGFydGVkIG9yIGFuIGV4aXN0aW5nIGdhbWUgaXMgbG9hZGVkJyk7XHJcbiAgICBtYWlubG9vcCgpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9